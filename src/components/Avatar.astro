---
import { Image } from "astro:assets"
import { getEntryBySlug } from "astro:content"

type Props = {
	name?: string
	image?: ImageMetadata
	lg?: boolean
}

let { name, image, lg = false } = Astro.props

if (!image && name) {
	const author = await getEntryBySlug("authors", name)
	image = author?.data.image
}
---

{
	image && (
		<Image
			src={image}
			width={48}
			alt=""
			aria-hidden="true"
			class:list={[
				"my-0 inline-block rounded-full border border-astro-gray-100",
				lg ? "h-8 w-8 md:h-10 md:w-10" : "h-6 w-6",
			]}
		/>
	)
}
